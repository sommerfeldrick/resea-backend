# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# EXEMPLO DE CONFIGURAÃ‡ÃƒO - CLOUDFLARE R2
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#
# Este arquivo mostra exatamente como configurar o Cloudflare R2
# para armazenamento de documentos.
#
# PASSOS:
# 1. Crie uma conta no Cloudflare: https://dash.cloudflare.com/sign-up
# 2. Ative o R2 (tem 10 GB grÃ¡tis/mÃªs)
# 3. Crie um bucket chamado "resea-documents"
# 4. Gere um API Token com permissÃµes "Object Read & Write"
# 5. Copie as credenciais abaixo
# 6. Renomeie este arquivo para .env (ou adicione ao seu .env existente)
# 7. Rode: npx tsx scripts/test-r2.ts
#
# DOCUMENTAÃ‡ÃƒO COMPLETA: Veja CLOUDFLARE_R2_SETUP.md
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 1. HABILITAR R2
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# true  = Usa Cloudflare R2 para armazenar documentos (RECOMENDADO)
# false = Usa apenas PostgreSQL (nÃ£o recomendado para produÃ§Ã£o)

R2_ENABLED=true


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 2. ACCOUNT ID
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Seu Account ID do Cloudflare (16 caracteres hexadecimais)
#
# ONDE ENCONTRAR:
# - No dashboard R2, clique em "Manage R2 API Tokens"
# - Copie o "Account ID" ou
# - Pegue do Endpoint URL: https://{ACCOUNT_ID}.r2.cloudflarestorage.com
#
# EXEMPLO: 1234567890abcdef

R2_ACCOUNT_ID=your_cloudflare_account_id_here


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 3. BUCKET NAME
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Nome do bucket criado no R2
#
# CRIAR BUCKET:
# 1. Dashboard R2 > "Create bucket"
# 2. Nome: resea-documents (ou qualquer nome que vocÃª quiser)
# 3. Location: Automatic (recomendado)
# 4. Storage Class: Standard
#
# IMPORTANTE: Use apenas letras minÃºsculas, nÃºmeros e hÃ­fens

R2_BUCKET_NAME=resea-documents


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 4. ACCESS KEY ID
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Sua Access Key ID (gerada ao criar o API Token)
#
# GERAR TOKEN:
# 1. Dashboard R2 > "Manage R2 API Tokens"
# 2. "Create API Token"
# 3. Nome: resea-backend-api
# 4. PermissÃµes: Object Read & Write
# 5. TTL: Forever (ou data de expiraÃ§Ã£o)
# 6. Copie a "Access Key ID" exibida
#
# FORMATO: 20 caracteres alfanumÃ©ricos
# EXEMPLO: a1b2c3d4e5f6g7h8i9j0

R2_ACCESS_KEY_ID=your_r2_access_key_id_here


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 5. SECRET ACCESS KEY
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# Sua Secret Access Key (gerada junto com a Access Key ID)
#
# âš ï¸ ATENÃ‡ÃƒO:
# - Esta chave Ã© exibida APENAS UMA VEZ ao criar o token
# - Guarde em local seguro (como 1Password, LastPass, etc)
# - NUNCA compartilhe ou commite no Git
# - Se perder, terÃ¡ que criar um novo token
#
# FORMATO: 40 caracteres alfanumÃ©ricos
# EXEMPLO: X1Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0

R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 6. REGION
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# RegiÃ£o do R2 (sempre use "auto")
#
# EXPLICAÃ‡ÃƒO:
# - Cloudflare R2 nÃ£o usa regiÃµes como AWS S3
# - "auto" deixa o Cloudflare escolher o melhor data center automaticamente
# - NÃƒO mude este valor!

R2_REGION=auto


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# 7. PUBLIC DOMAIN (OPCIONAL)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# DomÃ­nio customizado para URLs pÃºblicas
#
# PADRÃƒO: URLs longas do R2
# https://resea-documents.1234567890abcdef.r2.cloudflarestorage.com/...
#
# COM DOMÃNIO CUSTOMIZADO:
# https://files.seusite.com/...
# https://resea-documents.r2.dev/...
#
# CONFIGURAR:
# 1. Dashboard R2 > Bucket > Settings > "Connect Domain"
# 2. Adicione um subdomÃ­nio (ex: files.seusite.com)
# 3. Configure o CNAME no seu DNS
# 4. Aguarde propagaÃ§Ã£o (pode levar atÃ© 24h)
# 5. Adicione a URL completa abaixo
#
# DEIXE VAZIO se nÃ£o quiser usar domÃ­nio customizado

R2_PUBLIC_DOMAIN=


# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# EXEMPLO COMPLETO PREENCHIDO
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#
# R2_ENABLED=true
# R2_ACCOUNT_ID=1234567890abcdef
# R2_BUCKET_NAME=resea-documents
# R2_ACCESS_KEY_ID=a1b2c3d4e5f6g7h8i9j0
# R2_SECRET_ACCESS_KEY=X1Y2Z3A4B5C6D7E8F9G0H1I2J3K4L5M6N7O8P9Q0
# R2_REGION=auto
# R2_PUBLIC_DOMAIN=https://files.meusite.com
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# TESTAR CONFIGURAÃ‡ÃƒO
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#
# ApÃ³s configurar, rode o script de teste:
#
#   $ npx tsx scripts/test-r2.ts
#
# O script irÃ¡:
# âœ… Verificar variÃ¡veis de ambiente
# âœ… Testar conexÃ£o com o bucket
# âœ… Fazer upload de um arquivo de teste
# âœ… Gerar URL de download assinada
# âœ… Fazer download e verificar integridade
# âœ… Deletar arquivo de teste
#
# Se todos os testes passarem, vocÃª estÃ¡ pronto! ğŸ‰
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# CUSTOS ESTIMADOS
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#
# PLANO GRATUITO:
# - 10 GB de armazenamento/mÃªs
# - Downloads ilimitados (egress gratuito!)
# - Perfeito para comeÃ§ar
#
# ALÃ‰M DO FREE TIER:
# - Armazenamento: $0.015/GB/mÃªs
# - Requests (Class A): $4.50 por milhÃ£o
# - Requests (Class B): $0.36 por milhÃ£o
# - Egress: $0 (SEMPRE GRÃTIS!)
#
# EXEMPLO: 50 GB armazenados + 10.000 requests/mÃªs
# = (50 - 10) GB Ã— $0.015 + 10k requests Ã— $0.0000045
# = $0.60 + $0.045
# = ~$0.65/mÃªs
#
# Compare com AWS S3: ~$10/mÃªs para o mesmo uso!
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# SEGURANÃ‡A
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#
# âš ï¸ IMPORTANTE:
# - NUNCA commite o .env no Git
# - Adicione .env no .gitignore
# - Use diferentes tokens para dev/staging/production
# - Rotacione tokens a cada 90 dias
# - Use variÃ¡veis de ambiente no CI/CD (GitHub Actions, Vercel, etc)
#
# ADICIONAR AO .gitignore:
#   .env
#   .env.local
#   .env.*.local
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# PRECISA DE AJUDA?
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
#
# ğŸ“š DocumentaÃ§Ã£o Completa: CLOUDFLARE_R2_SETUP.md
# ğŸ§ª Script de Teste: scripts/test-r2.ts
# ğŸ“– API para Frontend: FRONTEND_API.md
# ğŸ”— Docs Oficiais: https://developers.cloudflare.com/r2/
#
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
